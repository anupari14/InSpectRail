{% extends "base.html" %}
{% load wagtailcore_tags wagtailimages_tags %}

{% block extra_css %}
<style>
  body { background-color: rgb(222, 207, 184); }

  /* —— HERO —— */
  .hero-section {
    position: relative;
    width: 100%;
    height: 100vh;
    min-height: 400px;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .hero-bg {
    position: absolute;
    top:0; left:0;
    width:100%; height:100%;
    background-size: cover;
    background-position: center;
    filter: blur(6px) brightness(0.5);
    transform: scale(1.05);
    z-index: 1;
  }
  .hero-overlay {
    position: absolute;
    top:0; left:0;
    width:100%; height:100%;
    background: rgba(0,0,0,0.3);
    z-index: 2;
  }
  .hero-content {
    position: relative;
    z-index: 3;
    color: #fff;
    text-align: center;
    padding: 0 1rem;
  }
  .hero-title {
    font-size: 3rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
  }
  .hero-subtitle {
    font-size: 1.25rem;
    margin-bottom: 1.5rem;
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
  }
  /* —— CTA BUTTON —— */
  .btn-detect {
    color: #fff !important;
    font-weight: bold !important;
    background-color: transparent !important;
    border: 2px solid #ff004f !important;
    padding: 10px 20px !important;
    border-radius: 5px !important;
    transition: all 0.3s ease !important;
  }
  .btn-detect:hover {
    background-color: #ff004f !important;
    color: #080808 !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 4px 8px rgba(255, 0, 79, 0.5) !important;
  }
  .carousel-image {
    max-height:500px; object-fit:cover; width:100%; border-radius:8px;
  }
  .content-cards .card {
    transition:transform .3s, box-shadow .3s;
  }
  .content-cards .card:hover {
    transform:translateY(-5px);
    box-shadow:0 8px 20px rgba(0,0,0,0.15);
  }
</style>
{% endblock %}

{# —— HERO BLOCK —— #}
{% block hero %}
<section class="hero-section">
  {% image self.banner_image original as bg_img %}
  <div class="hero-bg" style="background-image: url('{{ bg_img.url }}')"></div>
  <div class="hero-overlay"></div>
  <div class="hero-content">
    <h1 class="hero-title">{{ self.banner_title }}</h1>
    <p class="hero-subtitle">{{ self.banner_subtitle|richtext }}</p>
    {% if self.video_page %}
      <a href="{% pageurl self.video_page %}" class="btn btn-detect">
        Start Detecting
      </a>
    {% else %}
      <a href="/video/" class="btn btn-detect">
        Start Detecting
      </a>
    {% endif %}
  </div>
</section>
{% endblock %}

{% block content %}

    <h3><b> How it works?</b></h3>
  </div></center>
  <center><h4 class=" ">Our system provides rapid and accurate detection and classification of train track defects, enabling railway authorities to identify issues promptly. By continuously monitoring railway infrastructure with advanced algorithms, we analyze and categorize different types of defects as they occur. This valuable information supports 
    maintenance teams and decision-makers in prioritizing repairs and planning preventive measures, ultimately helping to maintain safe and efficient rail operations.</h4></center>
  <br>
  {# Example of an Orderable from home/models.py #}
  <div class="container-fluid">
    <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
            {% for loop_cycle in self.carousel_images.all %}
                {% image loop_cycle.carousel_image height-600 as img %}
                <div class="carousel-item{% if forloop.counter == 1 %} active{% endif %}">
                    <img src="{{ img.url }}" class="d-block w-100" alt="{{ img.alt }}">
                </div>
            {% endfor %}
        </div>
        <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
  </div>
  <div class="container">
    <br>
    {% for block in page.contentCard %}

      {% include_block block %}

    {% endfor %}
  </div>


{% endblock %}
